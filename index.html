<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Count</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />

</head>

<style>
    .textarea {
        height: 200px;
        width: 400px;
    }

    body {
        background-color: rgb(234, 224, 234);
    }

    .container {
        margin-top: 150px;
        background-color: rgb(210, 230, 224);
        box-shadow: rgba(10, 10, 10, 0.35) 0px 5px 15px;
        width: 450px;
        height: 350px;
        border-radius: 10px;
    }

</style>


<body>
    <div class="container">
        <h2 class="head">Character Counter</h2>
        <label>Description</label>
        <br>
        <textarea class="textarea" id="description"></textarea>
        <br>
        <span id="count"></span>

    </div>


    <script>

        //Selecting ID
        const description = document.getElementById("description")
        const charCount = document.getElementById("count")
        const maxLength = 200;
        const warnLength = 150;

        //Event Listener

        ["cut", "copy", "paste"].forEach(function (event) {
            description.addEventListener(event, preventCutCopyPaste)

        });

        ["keyup", "change", "keydown", "focus", "blur"].forEach(function (event) {
            description.addEventListener(event, descriptionCounter);

        });

        function preventCutCopyPaste(event) {
            event.preventDefault()
            alert("No cut copy paste allowed")
            return false
        }

        function descriptionCounter(event) {
            let count = description.value.length;
            charCount.innerText = `${maxLength - count}/${maxLength}`
            charCount.classList.remove("text-danger")


            if (count > maxLength) {
                description.value = description.value.substring(0, maxLength)
                count--;
            }

            if (count > warnLength) {
                charCount.classList.add("text-danger")
                charCount.innerText = `${maxLength - count}/${maxLength}`

            }
        }

        descriptionCounter()

    </script>

</body>

</html>